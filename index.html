
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>OmniBOLT API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;golang&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="golang">golang</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#omnibolt-daemon-websocket-messages-reference" class="toc-h1 toc-link" data-title="OmniBOLT Daemon Websocket Messages Reference">OmniBOLT Daemon Websocket Messages Reference</a>
          </li>
          <li>
            <a href="#wallet" class="toc-h1 toc-link" data-title="Wallet">Wallet</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#genmnemonic" class="toc-h2 toc-link" data-title="genMnemonic">genMnemonic</a>
                  </li>
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="logIn">logIn</a>
                  </li>
                  <li>
                    <a href="#logout" class="toc-h2 toc-link" data-title="logOut">logOut</a>
                  </li>
                  <li>
                    <a href="#connectpeer" class="toc-h2 toc-link" data-title="connectPeer">connectPeer</a>
                  </li>
                  <li>
                    <a href="#genaddressfrommnemonic" class="toc-h2 toc-link" data-title="genAddressFromMnemonic">genAddressFromMnemonic</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#basic-lightning-network-operations" class="toc-h1 toc-link" data-title="Basic Lightning Network Operations">Basic Lightning Network Operations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#connectremotepeer" class="toc-h2 toc-link" data-title="connectRemotePeer">connectRemotePeer</a>
                  </li>
                  <li>
                    <a href="#openchannel" class="toc-h2 toc-link" data-title="openChannel">openChannel</a>
                  </li>
                  <li>
                    <a href="#acceptchannel" class="toc-h2 toc-link" data-title="acceptChannel">acceptChannel</a>
                  </li>
                  <li>
                    <a href="#fundingbtc" class="toc-h2 toc-link" data-title="fundingBTC">fundingBTC</a>
                  </li>
                  <li>
                    <a href="#btcfundingcreated" class="toc-h2 toc-link" data-title="BTCFundingCreated">BTCFundingCreated</a>
                  </li>
                  <li>
                    <a href="#btcfundingsigned" class="toc-h2 toc-link" data-title="BTCFundingSigned">BTCFundingSigned</a>
                  </li>
                  <li>
                    <a href="#fundingasset" class="toc-h2 toc-link" data-title="fundingAsset">fundingAsset</a>
                  </li>
                  <li>
                    <a href="#assetfundingcreated" class="toc-h2 toc-link" data-title="assetFundingCreated">assetFundingCreated</a>
                  </li>
                  <li>
                    <a href="#assetfundingsigned" class="toc-h2 toc-link" data-title="assetFundingSigned">assetFundingSigned</a>
                  </li>
                  <li>
                    <a href="#commitmenttransactioncreated" class="toc-h2 toc-link" data-title="commitmentTransactionCreated">commitmentTransactionCreated</a>
                  </li>
                  <li>
                    <a href="#revoke-and-acknowledge-commitment-transaction-debug-mode-only" class="toc-h2 toc-link" data-title="Revoke and Acknowledge Commitment Transaction(Debug mode only)">Revoke and Acknowledge Commitment Transaction(Debug mode only)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#htlc-payment" class="toc-h1 toc-link" data-title="HTLC Payment">HTLC Payment</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#addinvoice" class="toc-h2 toc-link" data-title="addInvoice">addInvoice</a>
                  </li>
                  <li>
                    <a href="#payinvoice" class="toc-h2 toc-link" data-title="payInvoice">payInvoice</a>
                  </li>
                  <li>
                    <a href="#addhtlc" class="toc-h2 toc-link" data-title="addHTLC">addHTLC</a>
                  </li>
                  <li>
                    <a href="#htlc-signed" class="toc-h2 toc-link" data-title="HTLC Signed">HTLC Signed</a>
                  </li>
                  <li>
                    <a href="#sendh2middleman" class="toc-h2 toc-link" data-title="SendH2Middleman">SendH2Middleman</a>
                  </li>
                  <li>
                    <a href="#responsebymiddleman" class="toc-h2 toc-link" data-title="ResponseByMiddleman">ResponseByMiddleman</a>
                  </li>
                  <li>
                    <a href="#createhtlcctx" class="toc-h2 toc-link" data-title="CreateHtlcCTx">CreateHtlcCTx</a>
                  </li>
                  <li>
                    <a href="#sendh2nextnode" class="toc-h2 toc-link" data-title="SendH2NextNode">SendH2NextNode</a>
                  </li>
                  <li>
                    <a href="#forward-r" class="toc-h2 toc-link" data-title="Forward R">Forward R</a>
                  </li>
                  <li>
                    <a href="#verify-r-and-create-htlc-tx" class="toc-h2 toc-link" data-title="Verify R and Create HTLC Tx">Verify R and Create HTLC Tx</a>
                  </li>
                  <li>
                    <a href="#closehtlc" class="toc-h2 toc-link" data-title="CloseHTLC">CloseHTLC</a>
                  </li>
                  <li>
                    <a href="#closehtlc-signed" class="toc-h2 toc-link" data-title="CloseHTLC Signed">CloseHTLC Signed</a>
                  </li>
                  <li>
                    <a href="#closehtlcchannel" class="toc-h2 toc-link" data-title="CloseHtlcChannel">CloseHtlcChannel</a>
                  </li>
                  <li>
                    <a href="#closehtlcchannel-signed" class="toc-h2 toc-link" data-title="CloseHtlcChannel Signed">CloseHtlcChannel Signed</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contracts" class="toc-h1 toc-link" data-title="Contracts">Contracts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#atomicswap" class="toc-h2 toc-link" data-title="atomicSwap">atomicSwap</a>
                  </li>
                  <li>
                    <a href="#acceptswap" class="toc-h2 toc-link" data-title="acceptSwap">acceptSwap</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#query" class="toc-h1 toc-link" data-title="Query">Query</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getallcommitmenttransactions" class="toc-h2 toc-link" data-title="GetAllCommitmentTransactions">GetAllCommitmentTransactions</a>
                  </li>
                  <li>
                    <a href="#getlatestcommitmenttransaction" class="toc-h2 toc-link" data-title="GetLatestCommitmentTransaction">GetLatestCommitmentTransaction</a>
                  </li>
                  <li>
                    <a href="#getlatestrevockabledeliverytransaction" class="toc-h2 toc-link" data-title="GetLatestRevockableDeliveryTransaction">GetLatestRevockableDeliveryTransaction</a>
                  </li>
                  <li>
                    <a href="#getlatestbreachremedytransaction" class="toc-h2 toc-link" data-title="GetLatestBreachRemedyTransaction">GetLatestBreachRemedyTransaction</a>
                  </li>
                  <li>
                    <a href="#getallrevockabledeliverytransactions" class="toc-h2 toc-link" data-title="GetAllRevockableDeliveryTransactions">GetAllRevockableDeliveryTransactions</a>
                  </li>
                  <li>
                    <a href="#getallbreachremedytransactions" class="toc-h2 toc-link" data-title="GetAllBreachRemedyTransactions">GetAllBreachRemedyTransactions</a>
                  </li>
                  <li>
                    <a href="#getallchannels" class="toc-h2 toc-link" data-title="GetAllChannels">GetAllChannels</a>
                  </li>
                  <li>
                    <a href="#getchanneldetail" class="toc-h2 toc-link" data-title="GetChannelDetail">GetChannelDetail</a>
                  </li>
                  <li>
                    <a href="#getallbroadcastedcommitmenttransactions" class="toc-h2 toc-link" data-title="GetAllBroadcastedCommitmentTransactions">GetAllBroadcastedCommitmentTransactions</a>
                  </li>
                  <li>
                    <a href="#geth" class="toc-h2 toc-link" data-title="GetH">GetH</a>
                  </li>
                  <li>
                    <a href="#getr" class="toc-h2 toc-link" data-title="GetR">GetR</a>
                  </li>
                  <li>
                    <a href="#getrwithchannelid" class="toc-h2 toc-link" data-title="GetRWithChannelID">GetRWithChannelID</a>
                  </li>
                  <li>
                    <a href="#getroutingwithh" class="toc-h2 toc-link" data-title="GetRoutingWithH">GetRoutingWithH</a>
                  </li>
                  <li>
                    <a href="#getrwithh" class="toc-h2 toc-link" data-title="GetRWithH">GetRWithH</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/omnilaboratory/obd'>Join our dev community</a></li>
            <li><a href='https://github.com/omnilaboratory/OmniBOLT-spec'>Help in OmniBOLT specification</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='omnibolt-daemon-websocket-messages-reference'>OmniBOLT Daemon Websocket Messages Reference</h1>
<p>Welcome to the Websocket API reference documentation for OmniBOLT Daemon (OBD), the daemon that communicates with light clients written in any program languages that support websocket connection, such as javascript, golang, shell or even C/C++. OBD runs as an independent process connecting to a full node of OmniCore(version 0.18), which provides the complete services of token transactions on bitcoin network. And current OBD implementation is deeply binded to OmniCore. </p>

<p>We assume you have already gone through our <a href="https://github.com/omnilaboratory/obd#installation">installation instruction</a>, so that you are familar with:</p>

<ul>
<li>Pulling source code and compile to get obdserver;<br></li>
<li>Configuring OmniCore node for OBD;<br></li>
<li>Connecting OBD with Omnicore correctly;<br></li>
<li>Using <a href="https://github.com/omnilaboratory/DebuggingTool">GUI tool</a> to test all functions of OBD, OR</li>
<li>Using a simple web based <a href="https://chrome.google.com/webstore/detail/websocket-test-client/fgponpodhbmadfljofbimhhlengambbn?hl=en">websocket client</a> for Chrome to do experiments;<br></li>
<li>OBD responses you correctly;<br></li>
</ul>

<p>For kernel developers in our community, the above steps are the easiest way to get started. Just run the <a href="https://github.com/omnilaboratory/DebuggingTool">GUI tool</a> or open <a href="https://github.com/omnilaboratory/obd#step-4-test-channel-operations-using-websocket-testing-tool">OmniBOLT Daemon</a> project with your favorit golang editor, run OBD in debug mode, setup break points, and send messages from your websocket-test-client. You may intercept the messages and track message flows of OBD kernel.</p>
<h1 id='wallet'>Wallet</h1>
<p>Wallet is the first place that a client begin to work with an obd instance. User can initiate a local obd instance or connect to a remote one. The first step is to generate mnemonic code to identify yourself in the network using genMnemonic. Once the code is obtained by the user, then channel addresses, pub/priv key pairs will all be generated by it. The wallet is created. </p>
<h2 id='genmnemonic'>genMnemonic</h2><h3 id='simple-type-102004-protocol'>Simple Type -102004 Protocol</h3><h3 id='mode-1-local-obd'>Mode 1 local OBD:</h3>
<p>Type -102004 Protocol is used to sign up a new user by hirarchecal deterministic wallet system integrated in OBD.
OBD returns mnemonic words to the client who signs up, and create a new user by the hash of the mnemonic words as the UserID.</p>
<h3 id='mode-2-remote-obd-that-is-not-trusted'>Mode 2 remote OBD that is not trusted:</h3>
<p>In this mode, this Protocol requires to generate mnemonic words using BIP32 on local device. Clients, e.g wallets, interacting with obd shall implement this HD mechanism for security guarantees. Mnemonic words shall be kept in a local safe place, and never be shared with any OBD instances.</p>

<aside class="warning">
Don't trust any remote OBD which generates mnemonic words for you. We strongly suggest user to use our js sdk to generate mnemonic words locally, and keep it in a safe place.
</aside>

<!-- Comment by Kevin 2019-11-29
This endpoint manages users created by an OBD instance. Here we use Alice and Bob for testing purpose. The complete hirarchecal deterministic wallet system will be integrated soon, functions being including but not limited to: generat user mnemonic words, public/private key paires, PIN code, restore account. -->
<h3 id='websocket-request-message-type-102004'>Websocket Request: Message Type -102004</h3>
<!-- right -->

<blockquote>
<p>GenSeed request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102004</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<p>This request has no parameters.</p>
<h3 id='websocket-response-message-type-102004'>Websocket Response: Message Type -102004</h3>
<!-- right -->

<blockquote>
<p>Client SDK returns:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102004</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"c2215a60-8b81-439f-8cb3-11ba51691076"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"c2215a60-8b81-439f-8cb3-11ba51691076"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="s2">"two ribbon knee leaf easy pottery hobby pony mule test bridge liar sand mirror decline gasp focus this park undo rough cricket portion ignore"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>socket id generated when establishing a websocket connection.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>socket id generated when establishing a websocket connection.</td>
</tr>
<tr>
<td>result</td>
<td>-------</td>
<td>body</td>
<td>mnemonic words.</td>
</tr>
</tbody></table>
<h2 id='login'>logIn</h2><h3 id='simple-type-102001-protocol'>Simple Type -102001 Protocol</h3>
<p>Type -102001 Protocol is used to login to OBD.</p>
<h3 id='websocket-request-message-type-102001'>Websocket Request: Message Type -102001</h3>
<blockquote>
<p>Login request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"mnemonic"</span><span class="p">:</span><span class="s2">"&lt; mnemonic words generated by obd or client library &gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mnemonic</td>
<td>-------</td>
<td>data</td>
<td>mnemonic words generated by OBD</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-102001'>Websocket Response: Message Type -102001</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102001</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"7da8d2441e0ad67040a274902f1965ee1a5c3fdd86f1ddc3280eda5230e006f2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"all"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="s2">"7da8d2441e0ad67040a274902f1965ee1a5c3fdd86f1ddc3280eda5230e006f2 login"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>A SHA256 string of mnemonic words as the peer id</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>to whom should know the login of this peer</td>
</tr>
<tr>
<td>result</td>
<td>-------</td>
<td>body</td>
<td>response data from OBD</td>
</tr>
</tbody></table>
<h2 id='logout'>logOut</h2><h3 id='simple-type-102002-protocol'>Simple Type -102002 Protocol</h3>
<p>Log out.</p>
<h2 id='connectpeer'>connectPeer</h2><h3 id='simple-type-102003'>Simple Type -102003</h3>
<p>connect to a remote counterparty&#39;s OBD server.</p>
<h3 id='websocket-request-message-type-102003'>Websocket Request: Message Type -102003</h3>
<blockquote>
<p>Request: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102003</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"remote_node_address"</span><span class="p">:</span><span class="s2">"/ip4/62.234.216.108/tcp/3001/p2p/Qmdqwooq9Ab7Bry1NT3bgbrj2i57ugEKZwoZTGPLiKnMF8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>remote_node_address</td>
<td>-------</td>
<td>body</td>
<td>node address of the remote obd server.</td>
</tr>
</tbody></table>
<h2 id='genaddressfrommnemonic'>genAddressFromMnemonic</h2><h3 id='simple-type-103000-protocol'>Simple Type -103000 Protocol</h3>
<p>Type -103000 Protocol generates a new address from mnemonic words. This message requires to generate address on local device from mnemonic words using BIP32. Clients interacting with obd, e.g wallets, shall implement this HD mechanism for security guarantees. Mnemonic words shall be kept in a safe place, and never be shared  with any obd instances.  </p>
<h3 id='request-message-type-103000'>Request: Message Type -103000</h3>
<blockquote>
<p>Requests:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-103000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This message has no arguments.</p>
<h3 id='response-message-type-103000'>Response: Message Type -103000</h3>
<blockquote>
<p>Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-103000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"mfstT4mnj9AsT6XRKf6MWbFC2Ae99oMJf6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"private_key"</span><span class="p">:</span><span class="s2">"0c379ade77ceefbc2b54ee76bab7d483a4dd37ebb8a3fc6f91ae6d01e2084bc5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pub_key"</span><span class="p">:</span><span class="s2">"03c285a23081ea778b38e4fa4e870a9a2c0de2b526f6c915a62091bbe0e5b2c50d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wif"</span><span class="p">:</span><span class="s2">"cMzT53SEiF1PkoJaxp44pA8yhLFkqbRc9AWRZDyBTmHgnipdJ8zs"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>address</td>
<td>-------</td>
<td>result</td>
<td>The newly generated wallet address</td>
</tr>
<tr>
<td>index</td>
<td>-------</td>
<td>result</td>
<td>number of generated sort</td>
</tr>
<tr>
<td>private_key</td>
<td>-------</td>
<td>result</td>
<td>private key of address</td>
</tr>
<tr>
<td>pub_key</td>
<td>-------</td>
<td>result</td>
<td>public key of address</td>
</tr>
<tr>
<td>wif</td>
<td>-------</td>
<td>result</td>
<td>other format private key of address</td>
</tr>
</tbody></table>

<!-- currently not used, 2020-06-17 -->

<!-- 
## getAddressInfo

### Simple Type -201 Protocol

Type -201 Protocol is used to get detail info of a address 
generated by mnemonic words.

### Websocket Request: Message Type -201

> Request:

```json
{
    "type":-201,
    "data":0
}
```

Parameter | default | placement | Description
--------- | ------- | --------- | ------------
index     | ------- |   data    | number of generated sort with mnemonic words

### Websocket Response: Message Type -201

> OBD Responses:

```json
{
    "type":-201,
    "status":true,
    "from":"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0",
    "to":"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0",
    "result":{
        "address":"mfstT4mnj9AsT6XRKf6MWbFC2Ae99oMJf6",
        "index":0,
        "private_key":"0c379ade77ceefbc2b54ee76bab7d483a4dd37ebb8a3fc6f91ae6d01e2084bc5",
        "pub_key":"03c285a23081ea778b38e4fa4e870a9a2c0de2b526f6c915a62091bbe0e5b2c50d",
        "wif":"cMzT53SEiF1PkoJaxp44pA8yhLFkqbRc9AWRZDyBTmHgnipdJ8zs"
    }
}
```

Parameter | default | placement | Description
--------- | ------- | --------- | ------------
status    | ------- |   body    | true or false
from      | ------- |   body    | sender
to        | ------- |   body    | receiever
address   | ------- |   result  | The newly generated wallet address
index     | ------- |   result  | number of generated sort
private_key   | ------- |   result  | private key of address
pub_key   | ------- |   result  | public key of address
wif       | ------- |   result  | other format private key of address

-->
<h1 id='basic-lightning-network-operations'>Basic Lightning Network Operations</h1><h2 id='connectremotepeer'>connectRemotePeer</h2><h3 id='simple-type-102001-protocol-2'>Simple Type -102001 Protocol</h3>
<!-- # create channel -->
<h2 id='openchannel'>openChannel</h2><h3 id='simple-type-10032-protocol'>Simple Type -10032 Protocol</h3>
<p>Type -32 Protocol is used to request to create a channel with someone else(Bob). </p>

<p>Alice sends request to her OBD instance, her OBD helps her complete the message, and routes her request to Bob&#39;s OBD for creating a channel between them. </p>
<h3 id='websocket-request-message-type-10032'>Websocket Request: Message Type -10032</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100032</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"funding_pubkey"</span><span class="p">:</span><span class="s2">"02c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>funding pubkey</td>
<td>-------</td>
<td>data</td>
<td>public key of funder, who wish to deposite BTC and other tokens to the channel</td>
</tr>
<tr>
<td>recipient_node_peer_id</td>
<td>-------</td>
<td>body</td>
<td>peer id of the obd node where the fundee logged in.</td>
</tr>
<tr>
<td>recipient_user_peer_id</td>
<td>-------</td>
<td>body</td>
<td>the user id of the fundee.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-10032'>Websocket Response: Message Type -10032</h3>
<blockquote>
<p>OBD Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-32</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"chain_hash"</span><span class="p">:</span><span class="s2">"1EXoDusjGwvnjZUyKkxZ4UHEf77z6A5S4P"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_reserve_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delayed_payment_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dust_limit_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_rate_per_kw"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_address"</span><span class="p">:</span><span class="s2">"mx4TDCXP2DedxcuA8RXaQ6c4q2GKAimUPs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_pubkey"</span><span class="p">:</span><span class="s2">"021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"htlc_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"htlc_minimum_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max_accepted_htlcs"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max_htlc_value_in_flight_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payment_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"push_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"revocation_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:[</span><span class="mi">43</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">214</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">239</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">183</span><span class="p">],</span><span class="w">
        </span><span class="s2">"to_self_delay"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>chain_hash</td>
<td>-------</td>
<td>result</td>
<td>identify the public chain. Default is OmniLayer&#39;s address: 1EXoDusjGwvnjZUyKkxZ4UHEf77z6A5S4P</td>
</tr>
<tr>
<td>channel_reserve_satoshis</td>
<td>-------</td>
<td>result</td>
<td>reserved satoshis in the channel</td>
</tr>
<tr>
<td>delayed_payment_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>dust_limit_satoshis</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>fee_rate_per_kw</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>funding_address</td>
<td>-------</td>
<td>result</td>
<td>Funder&#39;s address from where he send money to the channel</td>
</tr>
<tr>
<td>funding_pubkey</td>
<td>-------</td>
<td>result</td>
<td>public key of funder, who wish to deposite BTC and other tokens to the channel</td>
</tr>
<tr>
<td>funding_satoshis</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>htlc_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>htlc_minimum_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>max_accepted_htlcs</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>max_htlc_value_in_flight_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>payment_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>push_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>revocation_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>to_self_delay</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
</tbody></table>
<h2 id='acceptchannel'>acceptChannel</h2><h3 id='simple-type-10033-protocol'>Simple Type -10033 Protocol</h3>
<p>Bob replies to accept, his OBD completes his message and routes it back to Alice&#39;s OBD.
Then Alice sees the response of acceptance. </p>
<h3 id='websocket-request-message-type-10033'>Websocket Request: Message Type -10033</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100033</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2 "</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_pubkey"</span><span class="p">:</span><span class="s2">"028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>data</td>
<td>the temporary channel id, used before real funding completes.</td>
</tr>
<tr>
<td>funding pubkey</td>
<td>-------</td>
<td>data</td>
<td>public key of fundee(Bob), who wish to deposite BTC and other tokens to the channel. Current implementation of OBD supports one-way deposite. Fundee does not need to fund the channel.</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true to accept or false to deny.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-10033'>Websocket Response: Message Type -10033</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-33</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accept_at"</span><span class="p">:</span><span class="s2">"2019-09-21T00:06:48.634265+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address_a"</span><span class="p">:</span><span class="s2">"mx4TDCXP2DedxcuA8RXaQ6c4q2GKAimUPs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address_b"</span><span class="p">:</span><span class="s2">"myHRPQWTQ1yYbj7vr7raBW59CTeAFEsUXY"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"chain_hash"</span><span class="p">:</span><span class="s2">"1EXoDusjGwvnjZUyKkxZ4UHEf77z6A5S4P"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address"</span><span class="p">:</span><span class="s2">"2N1DFjaE4yCcECdFwgLQcLmNrLV5zetgQtE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_redeem_script"</span><span class="p">:</span><span class="s2">"5221021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d2103efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce952ae"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_script_pub_key"</span><span class="p">:</span><span class="s2">"a9145761a1d45b8a6e7caa10a4bcecca97630c67af4687"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="w">
        </span><span class="s2">"channel_reserve_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close_at"</span><span class="p">:</span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_at"</span><span class="p">:</span><span class="s2">"2019-09-21T00:05:25.667117+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_by"</span><span class="p">:</span><span class="s2">"alice"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"delayed_payment_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dust_limit_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fee_rate_per_kw"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_address"</span><span class="p">:</span><span class="s2">"mx4TDCXP2DedxcuA8RXaQ6c4q2GKAimUPs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_pubkey"</span><span class="p">:</span><span class="s2">"021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_satoshis"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"htlc_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"htlc_minimum_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max_accepted_htlcs"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max_htlc_value_in_flight_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"payment_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_a"</span><span class="p">:</span><span class="s2">"alice"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_b"</span><span class="p">:</span><span class="s2">"bob"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pub_key_a"</span><span class="p">:</span><span class="s2">"021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pub_key_b"</span><span class="p">:</span><span class="s2">"03efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"push_msat"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"revocation_base_point"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:[</span><span class="mi">43</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">214</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">239</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">183</span><span class="p">],</span><span class="w">
        </span><span class="s2">"to_self_delay"</span><span class="p">:</span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>accept_at</td>
<td>-------</td>
<td>result</td>
<td>time of acceptance</td>
</tr>
<tr>
<td>address_a</td>
<td>-------</td>
<td>result</td>
<td>address of Alice</td>
</tr>
<tr>
<td>address_b</td>
<td>-------</td>
<td>result</td>
<td>address of Bob</td>
</tr>
<tr>
<td>chain_hash</td>
<td>-------</td>
<td>result</td>
<td>identify the public chain. Default is OmniLayer&#39;s address: 1EXoDusjGwvnjZUyKkxZ4UHEf77z6A5S4P</td>
</tr>
<tr>
<td>channel_address</td>
<td>-------</td>
<td>result</td>
<td>the p2whk address of the channel</td>
</tr>
<tr>
<td>channel_address_redeem_script</td>
<td>-------</td>
<td>result</td>
<td>redeem script of the multi-sig address</td>
</tr>
<tr>
<td>channel_address_script_pub_key</td>
<td>-------</td>
<td>result</td>
<td>the script pubkey</td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td>the global unique channel id</td>
</tr>
<tr>
<td>channel_reserve_satoshis</td>
<td>-------</td>
<td>result</td>
<td>reserved satoshis in the channel</td>
</tr>
<tr>
<td>close_at</td>
<td>-------</td>
<td>result</td>
<td>close time</td>
</tr>
<tr>
<td>create_at</td>
<td>-------</td>
<td>result</td>
<td>create time</td>
</tr>
<tr>
<td>create_by</td>
<td>-------</td>
<td>result</td>
<td>the funder who created this channel. Alice in this case.</td>
</tr>
<tr>
<td>curr_state</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>delayed_payment_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>dust_limit_satoshis</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>fee_rate_per_kw</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>funding_address</td>
<td>-------</td>
<td>result</td>
<td>Funder&#39;s address from where he send money to the channel</td>
</tr>
<tr>
<td>funding_pubkey</td>
<td>-------</td>
<td>result</td>
<td>public key of funder, who wish to deposite BTC and other tokens to the channel</td>
</tr>
<tr>
<td>funding_satoshis</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>htlc_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>htlc_minimum_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>max_accepted_htlcs</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>max_htlc_value_in_flight_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>payment_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>peer_id_a</td>
<td>-------</td>
<td>result</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>peer_id_b</td>
<td>-------</td>
<td>result</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>pub_key_a</td>
<td>-------</td>
<td>result</td>
<td>public key of funder</td>
</tr>
<tr>
<td>pub_key_b</td>
<td>-------</td>
<td>result</td>
<td>public key of fundee. Current OBD implementation does not requir fundee to deposit money to a channel.</td>
</tr>
<tr>
<td>push_msat</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>revocation_base_point</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>to_self_delay</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
</tbody></table>
<h2 id='fundingbtc'>fundingBTC</h2><h3 id='simple-type-102109-protocol'>Simple Type -102109 Protocol</h3>
<p>Type 102109 Protocol is used for depositing bitcoin into a channel. Since the basic Omnilayer protocal uses BTC as miner fee in constructing transactions, this message 102109 is mandatory for depositing a little BTC into a channel as miner fee.  </p>
<h3 id='websocket-request-message-type-102109'>Websocket Request: Message Type -102109</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">102109</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"from_address"</span><span class="p">:</span><span class="s2">"mre4gBmjKiBm8gwZmpCNcnnHiDY7TXr2wD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"from_address_private_key"</span><span class="p">:</span><span class="s2">"cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"to_address"</span><span class="p">:</span><span class="s2">"2MvPieQLzkS2mhexzYExsSkXGTExJJzzANw"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">0.0002</span><span class="p">,</span><span class="w">
        </span><span class="s2">"miner_fee"</span><span class="p">:</span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from_address</td>
<td>-------</td>
<td>data</td>
<td>address of funder, from where the BTC is transferred.</td>
</tr>
<tr>
<td>from_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key.</td>
</tr>
<tr>
<td>to_address</td>
<td>-------</td>
<td>data</td>
<td>the channel multi-sig address.</td>
</tr>
<tr>
<td>amount</td>
<td>0.0001</td>
<td>data</td>
<td>amount of BTC.</td>
</tr>
<tr>
<td>miner_fee</td>
<td>0.00001</td>
<td>data</td>
<td>miner fee in BTC for each time transaction.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-102109'>Websocket Response: Message Type -102109</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102109</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hex"</span><span class="p">:</span><span class="s2">"02000000019c35dde24b4b3ca57b51c20e4093ce0f412e9cec18b767acf92e0544a11dd363000000006a473044022047985ce08d3dcdbd80c4c9f87b919660a94a2680b192ea90e70f8cb3c36b1b7b0220519bc547641574ade1275c864db58bd97682296649222bc1dccb11298721a40f012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff02204e00000000000017a9142283a07c4fc44706e540c02edf1a1f3a4c433bfc872eb90a00000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac00000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"txid"</span><span class="p">:</span><span class="s2">"a9e2e14939f5edadabd8675be6d160c73762e9d562b35594328150db968e32c3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td></td>
</tr>
<tr>
<td>hex</td>
<td>-------</td>
<td>result</td>
<td>transaction hex.</td>
</tr>
<tr>
<td>txid</td>
<td>-------</td>
<td>result</td>
<td>transaction id.</td>
</tr>
</tbody></table>
<h2 id='btcfundingcreated'>BTCFundingCreated</h2><h3 id='simple-type-100340-protocol'>Simple Type -100340 Protocol</h3>
<p>Type -100340 Protocol is used to notify the success of funding BTC to the counterpart of the channel.</p>

<aside class="notice">
<code>Alice</code> tells her OBD to notify <code>Bob</code> that she created the funding transaction by payloads packed in this message -100340. 
</aside>
<h3 id='websocket-request-message-type-100340'>Websocket Request: Message Type -100340</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf"</span><span class="p">,</span><span class="w">           </span><span class="s2">"funding_tx_hex"</span><span class="p">:</span><span class="s2">"0200000001f2ad47c834d41507642d8007ed3e43d408ad29ad2bf1d563d98ff7694db40ef7000000006a473044022051bde2fea20a92f7ce71a99cfda2055bb5e0fc47af3e9ed429c70b6d00e5be2302201dbab200fcfa15431cb541bfe1cd6055c95f12825f29d211d412d4171378cf30012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff02f82a00000000000017a914f222f1986a60a01e33f6f813a13c7507492f4ac28732bf0a00000000001976a91484902564ba3ce47952d86a0d53c17402b3cce96588ac00000000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>data</td>
<td>temporary channel id.</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key of the channel that Alice holds.</td>
</tr>
<tr>
<td>funding_tx_hex</td>
<td>-------</td>
<td>data</td>
<td>funding transaction hex.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110340'>Websocket Response: Message Type -110340</h3>
<blockquote>
<p>OBD Responses：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"funding_btc_hex"</span><span class="p">:</span><span class="s2">"02000000019c35dde24b4b3ca57b51c20e4093ce0f412e9cec18b767acf92e0544a11dd363000000006a473044022047985ce08d3dcdbd80c4c9f87b919660a94a2680b192ea90e70f8cb3c36b1b7b0220519bc547641574ade1275c864db58bd97682296649222bc1dccb11298721a40f012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff02204e00000000000017a9142283a07c4fc44706e540c02edf1a1f3a4c433bfc872eb90a00000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac00000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_redeem_hex"</span><span class="p">:</span><span class="s2">"0200000001c3328e96db5081329455b362d5e96237c760d1e65b67d8abadedf53949e1e2a900000000920047304402206cc5fa2e47a9d7772eb114ba2223e62481ac76a9f34c98349d0b306490280e3c02207cd41cfd3aa98758b76d08f867424e6e17f95925f7fc4c5412996203243fe059010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffff0150490000000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac00000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_txid"</span><span class="p">:</span><span class="s2">"a9e2e14939f5edadabd8675be6d160c73762e9d562b35594328150db968e32c3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee.</td>
</tr>
<tr>
<td>funding_btc_hex</td>
<td>-------</td>
<td>result</td>
<td>btc funding transaction hex.</td>
</tr>
<tr>
<td>funding_redeem_hex</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>funding_txid</td>
<td>-------</td>
<td>result</td>
<td>funding transaction id.</td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td>temporary channel id.</td>
</tr>
</tbody></table>
<h2 id='btcfundingsigned'>BTCFundingSigned</h2><h3 id='simple-type-100350-protocol'>Simple Type -100350 Protocol</h3>
<aside class="success">
<code>Bob</code> tells his OBD to reply Alice that he knows the BTC funding by message -100350.
</aside>
<h3 id='websocket-request-message-type-100350'>Websocket Request: Message Type -100350</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100350</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cTWBhAwXyDtM5XxBwibUxMzH5R2na7WHCTXcnL2xq3y25S4mpAMd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"funding_txid"</span><span class="p">:</span><span class="s2">"603bfad3a62e7bf5480bc851e763c53adb276b16b02edc9451be6dd23cc07ba4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>data</td>
<td>temporary channel id.</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key of the channel that Bob holds.</td>
</tr>
<tr>
<td>funding_txid</td>
<td>-------</td>
<td>data</td>
<td>funding transaction id.</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true or false.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110350'>Websocket Response: Message Type -110350</h3>
<blockquote>
<p>OBD Responses：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110350</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">            </span><span class="s2">"funding_redeem_hex"</span><span class="p">:</span><span class="s2">"0200000001c3328e96db5081329455b362d5e96237c760d1e65b67d8abadedf53949e1e2a900000000d90047304402206cc5fa2e47a9d7772eb114ba2223e62481ac76a9f34c98349d0b306490280e3c02207cd41cfd3aa98758b76d08f867424e6e17f95925f7fc4c5412996203243fe05901473044022069466e582dcd465dfeb4407f1d65138cbb7fb16d8aed4309a6ac99049aeb0f9402201149356dd472e1f032fc574c5d6e138661c0da830a50b48fd6b6b24b9b6a7bc70147522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffff0150490000000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac00000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"funding_txid"</span><span class="p">:</span><span class="s2">"a9e2e14939f5edadabd8675be6d160c73762e9d562b35594328150db968e32c3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>funding_redeem_hex</td>
<td>-------</td>
<td>result</td>
<td>funding redeemscript hex.</td>
</tr>
<tr>
<td>funding_txid</td>
<td>-------</td>
<td>result</td>
<td>funding tx id.</td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td>temporary channel id</td>
</tr>
</tbody></table>
<h2 id='fundingasset'>fundingAsset</h2><h3 id='simple-type-102120-protocol'>Simple Type -102120 Protocol</h3>
<!-- center -->

<p>Alice starts to deposit omni assets to the channel. This is quite similar to the the btc funding procedure.</p>

<!-- right -->

<blockquote>
<p>Alice&#39;s example data:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>address: mre4gBmjKiBm8gwZmpCNcnnHiDY7TXr2wD  
privkey: cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf  
channel address：2MvPieQLzkS2mhexzYExsSkXGTExJJzzANw  
</code></pre><h3 id='websocket-request-message-type-102120'>Websocket Request: Message Type -102120</h3>
<!-- right -->

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102120</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"from_address"</span><span class="p">:</span><span class="s2">"mre4gBmjKiBm8gwZmpCNcnnHiDY7TXr2wD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from_address_private_key"</span><span class="p">:</span><span class="s2">"cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"to_address"</span><span class="p">:</span><span class="s2">"2MvPieQLzkS2mhexzYExsSkXGTExJJzzANw"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="mi">137</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from_address</td>
<td>-------</td>
<td>data</td>
<td>address of funder, from where the BTC is transferred.</td>
</tr>
<tr>
<td>from_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key.</td>
</tr>
<tr>
<td>to_address</td>
<td>-------</td>
<td>data</td>
<td>the channel multi-sig address.</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>data</td>
<td>the omni asset id that has been funding.</td>
</tr>
</tbody></table>
<h3 id='websocket-response'>Websocket Response:</h3>
<!-- right -->

<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-102120</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"hex"</span><span class="p">:</span><span class="s2">"0200000001e062124a8f5476cd4cff020894525d360f6d0ab4a8d2b357a90f328c3dabe2d9010000006a47304402202616b9a0c38865c5a3cba97cdb228698272d954f315771c1b1fbd9e1310d4d150220589c13f8e2e4fd6b6cfd09e59f62faa899ff898f7b040cc972d5a09d6a448c11012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff034a070a00000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac0000000000000000166a146f6d6e69000000000000008900000000773594001c0200000000000017a9142283a07c4fc44706e540c02edf1a1f3a4c433bfc8700000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee.</td>
</tr>
<tr>
<td>hex</td>
<td>-------</td>
<td>result</td>
<td>funding transaction hex.</td>
</tr>
</tbody></table>
<h2 id='assetfundingcreated'>assetFundingCreated</h2><h3 id='simple-type-100034-protocol'>Simple Type -100034 Protocol</h3>
<p>Type -100034 Protocol is used to notify the success of omni asset funding transaction 
to the counterparty of the channel.</p>
<h3 id='websocket-request-message-type-100034'>Websocket Request: Message Type -100034</h3>
<!-- right -->

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100034</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="p">,</span><span class="w">          </span><span class="s2">"funding_tx_hex"</span><span class="p">:</span><span class="s2">"0200000001c0c7ec0dabae15d2a5e3fd8e740952839c588cd68d8eafe00ed5d3c0f01bf229000000006a473044022045405d082bd9826e00819094cc693c0b2e40926b1a30cefc18e171c9c12e60be02206ba7479690f849cca828a6711a484a5149d79299fc9c4e179bffcad5e7bfb773012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff03f61c0c00000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac0000000000000000166a146f6d6e69000000000000008900000000b2d05e001c0200000000000017a914fcbbb71abf965dfde49fbf7442a4696ce2dd6c5f8700000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03985e8880628058da7c49b0968e4e7d2819240b60255a1c9b5f2407a4056b5f54"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTLc9tx1Hihqfu6jXXWQ8pFeiQb5aJ8ck88ik8RJuutP95dqTuqo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>data</td>
<td>temporary channel id.</td>
</tr>
<tr>
<td>funding_tx_hex</td>
<td>-------</td>
<td>data</td>
<td>asset funding transaction hex.</td>
</tr>
<tr>
<td>temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td>temporary address pub key.</td>
</tr>
<tr>
<td>temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>temporary address private key.</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key of the channel that Alice holds.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110034'>Websocket Response: Message Type -110034</h3>
<blockquote>
<p>OBD Responses：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110034</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">{</span><span class="w">       
        </span><span class="s2">"c1a_rsmc_hex"</span><span class="p">:</span><span class="s2">"0200000001c3328e96db5081329455b362d5e96237c760d1e65b67d8abadedf53949e1e2a9000000009200473044022048d693d88f34ff98ae1ca34e56f3c88394569caa491ef3d08b7f0a06c0515e1b022020b155a9ca07be5cf854200157781169a1e402018b3dd9418f26651924176c59010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffff03344700000000000017a9146816548153dd030f92540b24e9605c0c565cc378870000000000000000166a146f6d6e69000000000000008900000000773594001c0200000000000017a9146816548153dd030f92540b24e9605c0c565cc3788700000000"</span><span class="p">,</span><span class="w">              </span><span class="s2">"funding_omni_hex"</span><span class="p">:</span><span class="s2">"0200000001e062124a8f5476cd4cff020894525d360f6d0ab4a8d2b357a90f328c3dabe2d9010000006a47304402202616b9a0c38865c5a3cba97cdb228698272d954f315771c1b1fbd9e1310d4d150220589c13f8e2e4fd6b6cfd09e59f62faa899ff898f7b040cc972d5a09d6a448c11012102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc66ffffffff034a070a00000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac0000000000000000166a146f6d6e69000000000000008900000000773594001c0200000000000017a9142283a07c4fc44706e540c02edf1a1f3a4c433bfc8700000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03985e8880628058da7c49b0968e4e7d2819240b60255a1c9b5f2407a4056b5f54"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee.</td>
</tr>
<tr>
<td>c1a_rsmc_hex</td>
<td>-------</td>
<td>result</td>
<td>hex of the first commitment transaction constructed.</td>
</tr>
<tr>
<td>funding_omni_hex</td>
<td>-------</td>
<td>result</td>
<td>omni asset funding transaction hex.</td>
</tr>
<tr>
<td>rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>result</td>
<td>pub key of the temporary address that used to accept tokens RSMC output.</td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td>temporary channel id.</td>
</tr>
</tbody></table>

<aside class="notice">
<code>property id</code> and <code>amount</code> are all included in <code>funding_omni_hex</code>. The counterparty can easily validate the funding transaction by checking the hex. 
</aside>
<h2 id='assetfundingsigned'>assetFundingSigned</h2><h3 id='simple-type-100035-protocol'>Simple Type -100035 Protocol</h3>
<aside class="success">
<code>Bob</code> tells his OBD to reply <code>Alice</code> that he knows the asset funding transaction by message -100035, and Alice's OBD will creat commitment transactions (C1a & RD1a).
</aside>
<h3 id='websocket-request-message-type-100035'>Websocket Request: Message Type -100035</h3>
<blockquote>
<p>Request: </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100035</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fundee_channel_address_private_key"</span><span class="p">:</span><span class="s2">"cTWBhAwXyDtM5XxBwibUxMzH5R2na7WHCTXcnL2xq3y25S4mpAMd"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<!-- center -->

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>data</td>
<td>temporary channel id.</td>
</tr>
<tr>
<td>fundee_channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key of the channel that Bob holds, used to sign the commitment transactions.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110035'>Websocket Response: Message Type -110035</h3>
<blockquote>
<p>OBD Responses：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110035</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channelId"</span><span class="p">:</span><span class="s2">"ea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cde9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temporary_channel_id"</span><span class="p">:</span><span class="s2">"38e41ef5ba61c11642b2fa3ea93e8026ab7b057b06b64215f255669acf8dc0ef"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder.</td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td>officially generates the channel ID.</td>
</tr>
<tr>
<td>temporary_channel_id</td>
<td>-------</td>
<td>result</td>
<td>temporary channel id, won&#39;t appear again in following messages.</td>
</tr>
</tbody></table>
<h2 id='commitmenttransactioncreated'>commitmentTransactionCreated</h2><h3 id='simple-type-100351-protocol'>Simple Type -100351 Protocol</h3>
<!-- center -->

<p>Type -100351 Protocol is used for paying omni assets by Revocable Sequence Maturity Contract(RSMC) within a channel.</p>

<aside class="notice">
After creating a channel and funding the channel by BTC and assets, <code>Alice</code>/<code>Bob</code> then is able to use this channel to pay to each other. OBD constructs commitment transaction for each payment between the two counterparts. The i-th commitment transaction will be invalidated after creating the (i+1)-th commitment transaction.
</aside>

<p>Here(in the right) are the example data generated by OBD used in contructing temporary multi-sig addresses and temporary transactions for i-th commitment transaction. You shall find your corresponding temporary data within the responses of your OBD.</p>

<!-- right -->

<blockquote>
<p>example data:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>last_temp_address： 
<span class="o">{</span>
        <span class="s2">"address"</span>:<span class="s2">"mkPtXTRyA53ddhknMnVqNCDdeN2FsXmtwe"</span>,
        <span class="s2">"index"</span>:12,
        <span class="s2">"pub_key"</span>:<span class="s2">"02fed65567b2ab00e2cbb28b46a687ce8fd0894486989cba54975b45bbc6a85ed8"</span>,
        <span class="s2">"wif"</span>:<span class="s2">"cTiDwaM3y5LE2HuWWgvRTC9mgHiovf2zntjSgCPyLLeuUTmKk1BY"</span>
<span class="o">}</span>

curr_temp_address： 
<span class="o">{</span>
        <span class="s2">"address"</span>:<span class="s2">"mhAMwJW2bMtJ5iW4dp1EUT8nGi9LF1PXgj"</span>,
        <span class="s2">"index"</span>:6,
        <span class="s2">"pub_key"</span>:<span class="s2">"03985e8880628058da7c49b0968e4e7d2819240b60255a1c9b5f2407a4056b5f54"</span>,
        <span class="s2">"wif"</span>:<span class="s2">"cTLc9tx1Hihqfu6jXXWQ8pFeiQb5aJ8ck88ik8RJuutP95dqTuqo"</span>
<span class="o">}</span>
</code></pre><h3 id='websocket-request-message-type-100351'>Websocket Request: Message Type -100351</h3>
<!-- right -->

<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100351</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:</span><span class="s2">"ea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cde9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03985e8880628058da7c49b0968e4e7d2819240b60255a1c9b5f2407a4056b5f54"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTLc9tx1Hihqfu6jXXWQ8pFeiQb5aJ8ck88ik8RJuutP95dqTuqo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cVV22tLgBbLv1K1uW6z2doR4Copat1mejjND1jtW8CVkRLUSpPxf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTiDwaM3y5LE2HuWWgvRTC9mgHiovf2zntjSgCPyLLeuUTmKk1BY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>amount to pay.</td>
</tr>
<tr>
<td>curr_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td>temporary multi-sig address.</td>
</tr>
<tr>
<td>curr_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>the private key of the temporary multi-sig address currently in use.</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>Alice&#39;s private key of the channel.</td>
</tr>
<tr>
<td>last_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>the private key of the previous temporary multi-sig address.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-100351'>Websocket Response: Message Type -100351</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110351</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/4001/p2p/QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:</span><span class="s2">"ea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cde9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commitment_tx_hash"</span><span class="p">:</span><span class="s2">"c9ddb048fd69db8f9df0ba37a72d1d6979da2edc8bb258dbafcf263937d8b0c6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03985e8880628058da7c49b0968e4e7d2819240b60255a1c9b5f2407a4056b5f54"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTLc9tx1Hihqfu6jXXWQ8pFeiQb5aJ8ck88ik8RJuutP95dqTuqo"</span><span class="p">,</span><span class="w">             </span><span class="s2">"rsmc_hex"</span><span class="p">:</span><span class="s2">"0200000001c3328e96db5081329455b362d5e96237c760d1e65b67d8abadedf53949e1e2a900000000920047304402200f031ad0f55b2303179a1a48270149f76784cdd20926180085b69c64e0e46eff02207c3ab2bb56a9f9863c33f609d84b51b03e7b592e28dec63f06f65f7b853cc9ae010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffff03344700000000000017a9146816548153dd030f92540b24e9605c0c565cc378870000000000000000166a146f6d6e690000000000000089000000006553f1001c0200000000000017a9146816548153dd030f92540b24e9605c0c565cc3788700000000"</span><span class="p">,</span><span class="w">          </span><span class="s2">"to_counterparty_tx_hex"</span><span class="p">:</span><span class="s2">"0200000003e062124a8f5476cd4cff020894525d360f6d0ab4a8d2b357a90f328c3dabe2d900000000920047304402201e687dae90d407e4200081052826c4586af4c11360bc208315a5fba9e8d731f802207b31fce12e77806bf3b5681297e94ae4aa04f8628ed00aea89c6152f043e7c69010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffffea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cdeb0200000092004730440220656924074ebf39dfb94915f23ffa6dae36cf1c59954af5d29c7e749c8cdc847a022057049291636cfcaa8d97a80e1af7687e9e1d2809162908783f22813a1260859f010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aefffffffffcabe9c10966c7640e41fcbc1e597991d4da4edc2f6e257c6159c1d7c34a8b820000000092004730440220057a058dcab077217aaedd778a524a69757de4cb37a0954f2d6ae3a3b75ee98f02203c3e0aa61550a5da0ae1641c236de5005ea1e0c48167723a6add2f11d389144e010047522102c57b02d24356e1d31d34d2e3a09f7d68a4bdec6c0556595bb6391ce5d6d4fc6621028f49447e1a20d4211c8c621976cff3d2ae00d4af79be3e74e05f1ed4e23f319e52aeffffffff03ea930000000000001976a9147a019f584f6a65d114d5f17264c9eb32f763d72c88ac0000000000000000166a146f6d6e6900000000000000890000000011e1a30022020000000000001976a914ceb05f96f5b3cbd12d7bff5f9f45252b3f67bf7088ac00000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">  
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>commitment_tx_hash</td>
<td>-------</td>
<td>result</td>
<td>commitment transaction hahs.</td>
</tr>
<tr>
<td>curr_temp_address_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_temp_address_private_key</td>
<td>-------</td>
<td>result</td>
<td>the private key of the previous temporary multi-sig address.</td>
</tr>
<tr>
<td>rsmc_hex</td>
<td>-------</td>
<td>result</td>
<td>to RSMC(the multi-sig temp address) transaction hex.</td>
</tr>
<tr>
<td>to_counterparty_tx_hex</td>
<td>-------</td>
<td>result</td>
<td>to counterparty(the address of counterparty) transaction hex.</td>
</tr>
</tbody></table>
<h2 id='revoke-and-acknowledge-commitment-transaction-debug-mode-only'>Revoke and Acknowledge Commitment Transaction(Debug mode only)</h2><h3 id='simple-type-100352-protocol'>Simple Type -100352 Protocol</h3>
<p>Receiver revokes the previous commitment transaction and ackonwledge the new transaction.</p>

<aside class="warn">
This message is only for debug mode, because the light client don't need to manuely revoke and acknowledge a commitment. Plus he is not able to reject a RSMC payment, because payer hands over his private key of the previous transaction to payee.
</aside>

<!-- right -->

<blockquote>
<p>example data:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>last_temp_pub_key：
address  n2wKQgrfM5fFXmmA6xNWjWPPFPktJHnqEj
privkey cU78aif2a4YR5xK8HxBTrPKjdjhD8W4SSZNTw4yFEdwi59JMrYQY
pubkey 0298bdca47bbb76b1022eb7d18534961a12ce6dd80308c839576602b771e324fba 
curr_temp_address： 
<span class="o">{</span>
        <span class="s2">"address"</span>:<span class="s2">"mo9sVgTYnrx1rdxxj3XYswAcUwnQKmGKoN"</span>,
        <span class="s2">"index"</span>:7,
        <span class="s2">"pub_key"</span>:<span class="s2">"03b2e7ecc5ff62feb342943a1364f555e8302f507f78c6392c82b9e12c95ccb40b"</span>,
        <span class="s2">"wif"</span>:<span class="s2">"cPnHVbg3ZZoXhvgu5pWSx18zf9Dw5jfp7wMaDEx4JzHd9zqh1etk"</span>
<span class="o">}</span>
</code></pre><h3 id='websocket-request-message-type-100352'>Websocket Request: Message Type -100352</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100352</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_node_peer_id"</span><span class="p">:</span><span class="s2">"QmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiont"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recipient_user_peer_id"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"channel_id"</span><span class="p">:</span><span class="s2">"ea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cde9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"curr_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03b2e7ecc5ff62feb342943a1364f555e8302f507f78c6392c82b9e12c95ccb40b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"curr_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cPnHVbg3ZZoXhvgu5pWSx18zf9Dw5jfp7wMaDEx4JzHd9zqh1etk"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cU78aif2a4YR5xK8HxBTrPKjdjhD8W4SSZNTw4yFEdwi59JMrYQY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"msg_hash"</span><span class="p">:</span><span class="s2">"853a6adee774f65daf2bb4b59ffb3500293cd79e55c22d414438111320824a4f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cTWBhAwXyDtM5XxBwibUxMzH5R2na7WHCTXcnL2xq3y25S4mpAMd"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td>current multi-sig temp address pubkey.</td>
</tr>
<tr>
<td>curr_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>current multi-sig temp address private key.</td>
</tr>
<tr>
<td>last_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>previous multi-sig temp address private key.</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td>private key of the channel that payee holds.</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true or false</td>
</tr>
</tbody></table>
<h1 id='htlc-payment'>HTLC Payment</h1>
<!-- currently deprecated, 2020-06-17-->

<!-- 
## NewAddress

### Simple Type 1001 Protocol

Type 1001 Protocol is used to create a new address by omni core rpc command.

### Websocket Request: Message Type 1001

> Request:

```json
{
    "type": 1001
}
```

This message has no arguments.

### Websocket Response: Message Type 1001

> OBD Responses:

```json
{
    "type":1001,
    "status":true,
    "from":"434ecdd4-a8e4-4771-b194-c23dd55fcd20",
    "to":"434ecdd4-a8e4-4771-b194-c23dd55fcd20",
    "result":"mpzfjjB1Yv2BSrfeLAjDLrJzxzh4LYFe7x"
}
```

Parameter | default | placement | Description
--------- | ------- | --------- | ------------
status    | ------- |   body    | true or false
from      | ------- |   body    | sender
to        | ------- |   body    | receiever
address   | ------- |   result  | The newly generated wallet address

-->
<h2 id='addinvoice'>addInvoice</h2><h3 id='simple-type-100402-protocol'>Simple Type -100402 Protocol</h3>
<p>create an invoice.</p>
<h3 id='websocket-request-message-type-100402'>Websocket Request: Message Type -100402</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">req</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100402</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="s2">"035be1bc8f26ac7318d83663bd5dab10c843a74d11e573731a6a9abee5b9d46933"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry_time"</span><span class="p">:</span><span class="s2">"2020-07-15"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="mi">137</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>-------</td>
<td>data</td>
<td>the hash of r used to lock a HTLC.</td>
</tr>
<tr>
<td>expiry_time</td>
<td>-------</td>
<td>data</td>
<td>expiry time.</td>
</tr>
<tr>
<td>description</td>
<td>-------</td>
<td>data</td>
<td>short memo.</td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>data</td>
<td>assets id</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>amount of transfer</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110402'>Websocket Response: Message Type 110402</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110402</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">{</span><span class="w"> 
        </span><span class="s2">"invoice"</span><span class="p">:</span><span class="s2">"obtb400000000s1pqzyfnpwQmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiontuzq1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2hzz035be1bc8f26ac7318d83663bd5dab10c843a74d11e573731a6a9abee5b9d46933xq8p0sm45qdqtdescriptionjf4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>invoice</td>
<td>-------</td>
<td>data</td>
<td>the invoice string encoded by beth32.</td>
</tr>
</tbody></table>
<h2 id='payinvoice'>payInvoice</h2><h3 id='simple-type-100401-protocol'>Simple Type -100401 Protocol</h3>
<p>Pay an invoice. This protocol is the first step of a payment, which seeks a full path of nodes, decide which path is the optimistic one, in terms of hops, node&#39;s histroy service quility, and fees.</p>
<h3 id='websocket-request-message-type-100401'>Websocket Request: Message Type -100401</h3>
<blockquote>
<p>Request:
<code>json
{
    &quot;type&quot;:-100401,
    &quot;data&quot;{
        &quot;invoice&quot;:&quot;obtb400000000s1pqzyfnpwQmVEoTmyofsbEnsoFwQXHngafECHJuVfEgGyb2bZtyiontuzq1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2hzz035be1bc8f26ac7318d83663bd5dab10c843a74d11e573731a6a9abee5b9d46933xq8p0sm45qdqtdescriptionjf4&quot;
    }
}
</code></p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>invoice</td>
<td>-------</td>
<td>data</td>
<td>the invoice string encoded by beth32.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110401'>Websocket Response: Message Type -110401</h3>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110401</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2@/ip4/127.0.0.1/tcp/3001/p2p/Qmd3a2GWMwJuC98x1sthzvqXXhaVSz5rFzJYCekBU5ihPP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"min_cltv_expiry"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next_node_peerId"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"routing_packet"</span><span class="p">:</span><span class="s2">"ea5096b1864bcfa398486ca659dfb5711506d851fc4626075ecd388a65b6cde9"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>min_cltv_expiry</td>
<td>-------</td>
<td>result</td>
<td>min cltv expiry.</td>
</tr>
<tr>
<td>next_node_peerId</td>
<td>-------</td>
<td>result</td>
<td>next hop.</td>
</tr>
<tr>
<td>routing_packet</td>
<td>-------</td>
<td>result</td>
<td>routing packet.</td>
</tr>
</tbody></table>
<h2 id='addhtlc'>addHTLC</h2><h3 id='simple-type-40-protocol'>Simple Type -40 Protocol</h3>
<p>Create a HTLC.</p>
<h3 id='websocket-request-message-type-40'>Websocket Request: Message Type -40</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-40</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>property_id</td>
<td>-------</td>
<td>data</td>
<td>assets id</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>amount of transfer</td>
</tr>
<tr>
<td>recipient_peer_id</td>
<td>-------</td>
<td>data</td>
<td>peer id of receiever</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-40'>Websocket Response: Message Type -40</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-40</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>result</td>
<td>amount of transfer</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>result</td>
<td>true or false</td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>result</td>
<td>assets id</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='htlc-signed'>HTLC Signed</h2><h3 id='simple-type-41-protocol'>Simple Type -41 Protocol</h3>
<p>Type -41 Protocol is used to response HTLC Payment request.</p>
<h3 id='websocket-request-message-type-41'>Websocket Request: Message Type -41</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-41</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>data</td>
<td>assets id</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>amount of transfer</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true or false</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-41'>Websocket Response: Message Type -41</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-41</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83519233492eb05ddd547757f2c3d151ad9392b2ebf48fc1a88e07e61dd82a45"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>result</td>
<td>true or false</td>
</tr>
<tr>
<td>h</td>
<td>-------</td>
<td>result</td>
<td>Hash_Preimage_R</td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='sendh2middleman'>SendH2Middleman</h2><h3 id='simple-type-42-protocol-deprecated'>Simple Type -42 Protocol (Deprecated)</h3>
<p>Type -42 Protocol is used for looking for a path to transfer to target 
and Send H to middleman.</p>
<h3 id='websocket-request-message-type-42'>Websocket Request: Message Type -42</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-42</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="s2">"83519233492eb05ddd547757f2c3d151ad9392b2ebf48fc1a88e07e61dd82a45"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>-------</td>
<td>data</td>
<td>Hash of the preimage R</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-42'>Websocket Response: Message Type -42</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-42</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83519233492eb05ddd547757f2c3d151ad9392b2ebf48fc1a88e07e61dd82a45"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>h</td>
<td>-------</td>
<td>result</td>
<td>Hash of the preimage R</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='responsebymiddleman'>ResponseByMiddleman</h2><h3 id='simple-type-44-protocol-deprecated'>Simple Type -44 Protocol(Deprecated)</h3>
<p>Type -44 Protocol is used to response a routing request by middleman. </p>
<h3 id='websocket-request-message-type-44'>Websocket Request: Message Type -44</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-44</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cTr7SHQ7FR6Ej8ZU8vDpbt3y9GuF3hnBqn81Tv9Tdi5TeakqKavt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cURFDvYsF49hazcGK3i4344H1r3pSjHwdqL2yQ85qxdzpub3rozx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03c5d2756dea6d6259080d7e1ab3f8597e7e9a83b5667eff70ea49ca3addb6f293"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cN3o7Se2qcSq7Z3wYL9DLxn1cr5Du5rmmxsQeoeF6LC7yXcZZotN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03d2edfe1f0a527f70473dbacb386e4e6a9cc0ea0cabf71f6c0a3dd516a8e6099f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cPRy5pB8Ek2DabfQ74x8giqDdPtwTvptgRnq8qEP7KduzdmMFmJM"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true or false</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-44'>Websocket Response: Message Type -44</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-44</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>result</td>
<td>true or false</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='createhtlcctx'>CreateHtlcCTx</h2><h3 id='simple-type-45-protocol'>Simple Type -45 Protocol</h3>
<p>Type -45 Protocol is used to create HTLC commitment transactions.</p>
<h3 id='websocket-request-message-type-45'>Websocket Request: Message Type -45</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-45</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cToieuvo3JjkEUKa3tjd6J98RXKDTo1d2hUSVgKpZ1KwBvGhQFL8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cVsKRbL4ijWULmbU78nghKYL79GLYo7q9ccgmSR5c6zJWKfEEdJN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03dab6d7b005e8b15a2dc8d7005b45111876813c24a54ff15316a76ba376cf020f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cSYJ3vwcgMPDqegXFJ2YgCYNNgKS9tNxCaRkZnn3ourQSdGNkJCk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03d16de84b72460055b18e6d572b49c4ab0e1d889c0bf0705becb22e16b65ca916"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cR7wXNwPjMrDCpnJoinTiMK384YyKNTfyctLQ2CCdQobdanEqgAs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_for_ht1a_pub_key"</span><span class="p">:</span><span class="s2">"030cb3034f7374d5bb614e27169df99d346748a1a7a365a27b1138f5db7ad2b0f3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_for_ht1a_private_key"</span><span class="p">:</span><span class="s2">"cNzNyejXtgC4ySXCVXqa6egVinYLDtGhkRkGd271ZW6AJrVKYZ2w"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_for_ht1a_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_for_ht1a_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-45'>Websocket Response: Message Type -45</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-45</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e7626f2b7207006d6515399c587c09c3bfb5ed3b12f63c12b0d40e634f9dd9a3"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"h_and_r_info_request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fe82bc9152741670c4ee2b4853df9346c1cc63fce6d1c896e7eeca8cc62c9d9"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>h</td>
<td>-------</td>
<td>result</td>
<td>Hash of the preimage R</td>
</tr>
<tr>
<td>h_and_r_info_request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='sendh2nextnode'>SendH2NextNode</h2><h3 id='simple-type-43-protocol'>Simple Type -43 Protocol</h3>
<p>Type -43 Protocol is used to send the H to next node.</p>

<p><em>Bob (middleman) Send H to Carol (destination)</em></p>
<h3 id='websocket-request-message-type-43'>Websocket Request: Message Type -43</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-43</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="s2">"83519233492eb05ddd547757f2c3d151ad9392b2ebf48fc1a88e07e61dd82a45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"h_and_r_info_request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>-------</td>
<td>data</td>
<td>Hash of the preimage R</td>
</tr>
<tr>
<td>h_and_r_info_request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-43'>Websocket Response: Message Type -43</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-43</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e7626f2b7207006d6515399c587c09c3bfb5ed3b12f63c12b0d40e634f9dd9a3"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fe82bc9152741670c4ee2b4853df9346c1cc63fce6d1c896e7eeca8cc62c9d9"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>h</td>
<td>-------</td>
<td>result</td>
<td>Hash of the preimage R</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='forward-r'>Forward R</h2><h3 id='simple-type-46-protocol'>Simple Type -46 Protocol</h3>
<p>Type -46 Protocol is used to forward R to a node.</p>

<aside class="succeed">
<code>Carol</code> (destination) Send R (Preimage_R) to <code>Bob</code> (middleman).
</aside>

<p>Bob asks Carol if Carol can present an unknown 20-byte random R subject to Hash(R) = H, within two days for example, then Bob will settle the contract by paying assets.</p>

<p>Of course Carol has the preimage R, because she generated it, or &quot;bought&quot; it by her own assets. Then now, Carol send R to Bob.</p>
<h3 id='websocket-request-message-type-46'>Websocket Request: Message Type -46</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-46</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"r"</span><span class="p">:</span><span class="s2">"d77d7df74ca33a672802387fffc6575a09dc7c45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cMxR8h9z5oKrdyuXVR9uzBbyyaJz1karxH1FW5xezhKzxQc7sCJV"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cVW35aEjd56ZFHTSDtq9iUzHAfH6rWGVJcmYBn9QEp9ygSfkgZeG"</span><span class="p">,</span><span class="w">        
        </span><span class="s2">"curr_htlc_temp_address_for_he1b_pub_key"</span><span class="p">:</span><span class="s2">"020eaa8f0c0f2761215af43dd7fccb11df8cafffcff4e8f186bd1b8a8a11e5f680"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_for_he1b_private_key"</span><span class="p">:</span><span class="s2">"cR14XVjQ4yXunTnpqXZ1FMangq5bZNqsQ4gnsVpJ1KAMkxZVqo3F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>data</td>
<td>Preimage_R</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_for_he1b_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_for_he1b_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-46'>Websocket Response: Message Type -46</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-46</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2de142c8006a3462241e96a610b59f3d92d8259c"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fe82bc9152741670c4ee2b4853df9346c1cc63fce6d1c896e7eeca8cc62c9d9"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>result</td>
<td>Preimage_R</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='verify-r-and-create-htlc-tx'>Verify R and Create HTLC Tx</h2><h3 id='simple-type-47-protocol'>Simple Type -47 Protocol</h3>
<p>Reciever(Bob) reverify R. If correct, then creates rest HTLC commitment transactions.</p>

<aside class="succeed">
<code>Bob</code> replies and create rest HTLC commitment transactions.
</aside>
<h3 id='websocket-request-message-type-47'>Websocket Request: Message Type -47</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-47</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"r"</span><span class="p">:</span><span class="s2">"d77d7df74ca33a672802387fffc6575a09dc7c45"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cTr7SHQ7FR6Ej8ZU8vDpbt3y9GuF3hnBqn81Tv9Tdi5TeakqKavt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cNon6RZ9uLq6EPpGYt8tDZjQLMWVZDAXcrFy3LH1ZmHQJDbKWnye"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this HTLC request</td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>data</td>
<td>Preimage_R</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-47'>Websocket Response: Message Type -47</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-47</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2de142c8006a3462241e96a610b59f3d92d8259c"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fe82bc9152741670c4ee2b4853df9346c1cc63fce6d1c896e7eeca8cc62c9d9"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>result</td>
<td>Preimage_R</td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='closehtlc'>CloseHTLC</h2><h3 id='simple-type-48-protocol'>Simple Type -48 Protocol</h3>
<p>Type -48 Protocol is used to close a HTLC channel.</p>

<p>For continue using OBD to transfer assets OR some reasons
Alice need to close this HTLC channel between she and Bob.
Then Alice launch the closing request.</p>
<h3 id='websocket-request-message-type-48'>Websocket Request: Message Type -48</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-48</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">174</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">75</span><span class="p">],</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cToieuvo3JjkEUKa3tjd6J98RXKDTo1d2hUSVgKpZ1KwBvGhQFL8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cSYJ3vwcgMPDqegXFJ2YgCYNNgKS9tNxCaRkZnn3ourQSdGNkJCk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cR7wXNwPjMrDCpnJoinTiMK384YyKNTfyctLQ2CCdQobdanEqgAs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_htlc_temp_address_for_htnx_private_key"</span><span class="p">:</span><span class="s2">"cNzNyejXtgC4ySXCVXqa6egVinYLDtGhkRkGd271ZW6AJrVKYZ2w"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"02fed65567b2ab00e2cbb28b46a687ce8fd0894486989cba54975b45bbc6a85ed8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTiDwaM3y5LE2HuWWgvRTC9mgHiovf2zntjSgCPyLLeuUTmKk1BY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td>Id of a channel</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_htlc_temp_address_for_htnx_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-48'>Websocket Response: Message Type -48</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-48</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">174</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">152</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">75</span><span class="p">],</span><span class="w">
        </span><span class="s2">"create_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-06T08:45:40.4120228+08:00"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"create_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"curr_rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02fed65567b2ab00e2cbb28b46a687ce8fd0894486989cba54975b45bbc6a85ed8"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fa6cdcd0974eeabbeffca3d70d0a66cd7549b002de7cd56eee1c7e60b94dc0be"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td>Id of a channel</td>
</tr>
<tr>
<td>create_at</td>
<td>-------</td>
<td>result</td>
<td>time of created</td>
</tr>
<tr>
<td>create_by</td>
<td>-------</td>
<td>result</td>
<td>creator</td>
</tr>
<tr>
<td>curr_rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>curr_state</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td>hash of this HTLC request</td>
</tr>
</tbody></table>
<h2 id='closehtlc-signed'>CloseHTLC Signed</h2><h3 id='simple-type-49-protocol'>Simple Type -49 Protocol</h3>
<p>Type -49 Protocol is used to response the request of close HTLC channel.</p>

<p><em>Bob replies and create BR &amp; a newer commitment transactions</em>(??? need more comments on this) </p>
<h3 id='websocket-request-message-type-49'>Websocket Request: Message Type -49</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-49</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_close_htlc_hash"</span><span class="p">:</span><span class="s2">"fa6cdcd0974eeabbeffca3d70d0a66cd7549b002de7cd56eee1c7e60b94dc0be"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_address_private_key"</span><span class="p">:</span><span class="s2">"cToieuvo3JjkEUKa3tjd6J98RXKDTo1d2hUSVgKpZ1KwBvGhQFL8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cTr7SHQ7FR6Ej8ZU8vDpbt3y9GuF3hnBqn81Tv9Tdi5TeakqKavt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_htlc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cPRy5pB8Ek2DabfQ74x8giqDdPtwTvptgRnq8qEP7KduzdmMFmJM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_htlc_temp_address_for_htnx_private_key"</span><span class="p">:</span><span class="s2">"cTeQ2e9Hw6y1RHjCCF9x3MR7pn3yPySgxSYy5rtvmVvM7ZNh9jUZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_pub_key"</span><span class="p">:</span><span class="s2">"0298bdca47bbb76b1022eb7d18534961a12ce6dd80308c839576602b771e324fba"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_rsmc_temp_address_private_key"</span><span class="p">:</span><span class="s2">"cU78aif2a4YR5xK8HxBTrPKjdjhD8W4SSZNTw4yFEdwi59JMrYQY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_close_htlc_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of this closing request</td>
</tr>
<tr>
<td>channel_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_htlc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>last_htlc_temp_address_for_htnx_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_pub_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>curr_rsmc_temp_address_private_key</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-49'>Websocket Response: Message Type -49</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-49</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close htlc success"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>msg</td>
<td>-------</td>
<td>result</td>
<td>success or failed</td>
</tr>
</tbody></table>
<h2 id='closehtlcchannel'>CloseHtlcChannel</h2><h3 id='simple-type-50-protocol'>Simple Type -50 Protocol</h3>
<p>Type -50 Protocol is used to close HTLC channel.</p>
<h3 id='websocket-request-message-type-50'>Websocket Request: Message Type -50</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">223</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">51</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='closehtlcchannel-signed'>CloseHtlcChannel Signed</h2><h3 id='simple-type-51-protocol'>Simple Type -51 Protocol</h3>
<p>Type -51 Protocol is used to response to request of close HTLC channel.</p>
<h3 id='websocket-request-message-type-51'>Websocket Request: Message Type -51</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-51</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">223</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">51</span><span class="p">],</span><span class="w">      </span><span class="s2">"request_close_channel_hash"</span><span class="p">:</span><span class="s2">"4453e70ba9f2a805433b3696e43fd4175cabf45daf36aa59368ecf210f5773cb"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"approval"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
<tr>
<td>request_close_channel_hash</td>
<td>-------</td>
<td>data</td>
<td>hash of channel</td>
</tr>
<tr>
<td>approval</td>
<td>-------</td>
<td>data</td>
<td>true or false</td>
</tr>
</tbody></table>
<h1 id='contracts'>Contracts</h1><h2 id='atomicswap'>atomicSwap</h2><h3 id='simple-type-100080-protocol'>Simple Type -100080 Protocol</h3>
<p>Type -80 message notifies the counterparty an atomic swap is created. The background and process of atomic swap can be <a href="https://github.com/omnilaboratory/OmniBOLT-spec/blob/master/OmniBOLT-05-Atomic-Swap-among-Channels.md#omnibolt-5-atomic-swap-protocol-among-channels">found here in chapter 5</a> of the OmniBOLT specification, </p>
<h3 id='websocket-request-message-type-100080'>Websocket Request: Message Type -100080</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id_from"</span><span class="p">:</span><span class="s2">"2e90c8e98074c9d711ef33c9b8ae9ff4437640f032e60ecf5626a4ca9b432b02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id_to"</span><span class="p">:</span><span class="s2">"35b10b403eaf04ed9efc15d756105c4cd9c921f1d871411eda54d499409ec8e8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0 "</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_sent"</span><span class="p">:</span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exchange_rate"</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_received"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="s2">"238822cdb245dd8a392a5d0479b5488e38b21ce4192e77fa03f408796037d88e"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time_locker"</span><span class="p">:</span><span class="mi">11</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id_from</td>
<td>-------</td>
<td>data</td>
<td>the channel where the HTLC 1 for swap(pay token A for token B) is created.</td>
</tr>
<tr>
<td>channel_id_to</td>
<td>-------</td>
<td>data</td>
<td>the channel that need to create the corresponding HTLC 2 to pay token B.</td>
</tr>
<tr>
<td>recipient_peer_id</td>
<td>-------</td>
<td>body</td>
<td>the counterparty who accepts the swap, i.e the onwer of token B.</td>
</tr>
<tr>
<td>property_sent</td>
<td>-------</td>
<td>data</td>
<td>Token A.</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>Amount of token A.</td>
</tr>
<tr>
<td>exchange_rate</td>
<td>-------</td>
<td>data</td>
<td>exchange rate, which is price(token A)/price(token B).</td>
</tr>
<tr>
<td>property_received</td>
<td>-------</td>
<td>data</td>
<td>Token B.</td>
</tr>
<tr>
<td>transaction_id</td>
<td>-------</td>
<td>data</td>
<td>The transaction ID of the commitment tranaction of this HTLC 1.</td>
</tr>
<tr>
<td>time_locker</td>
<td>-------</td>
<td>data</td>
<td>The time locker of HTLC 1.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110080'>Websocket Response: Message Type -110080</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-110080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id_from"</span><span class="p">:</span><span class="s2">"2e90c8e98074c9d711ef33c9b8ae9ff4437640f032e60ecf5626a4ca9b432b02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id_to"</span><span class="p">:</span><span class="s2">"35b10b403eaf04ed9efc15d756105c4cd9c921f1d871411eda54d499409ec8e8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exchange_rate"</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_received"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_sent"</span><span class="p">:</span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="s2">"39e8b1f3e7aec51a368d70eac6d47195099e55c6963d38bcd729b22190dcdae0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time_locker"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="s2">"238822cdb245dd8a392a5d0479b5488e38b21ce4192e77fa03f408796037d88e"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false if the message is succesfully delivered.</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer ID who creates the HTLC 1 for swap.</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer ID who accept the swap or reject.</td>
</tr>
<tr>
<td>channel_id_from</td>
<td>-------</td>
<td>data</td>
<td>the channel where the HTLC 1 for swap(pay token A for token B) is created.</td>
</tr>
<tr>
<td>channel_id_to</td>
<td>-------</td>
<td>data</td>
<td>the channel that need to create the corresponding HTLC 2 to pay token B.</td>
</tr>
<tr>
<td>recipient_peer_id</td>
<td>-------</td>
<td>data</td>
<td>the counterparty who accepts the swap, i.e the onwer of token B.</td>
</tr>
<tr>
<td>property_sent</td>
<td>-------</td>
<td>data</td>
<td>Token A.</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>Amount of token A.</td>
</tr>
<tr>
<td>exchange_rate</td>
<td>-------</td>
<td>data</td>
<td>exchange rate, which is price(token A)/price(token B).</td>
</tr>
<tr>
<td>property_received</td>
<td>-------</td>
<td>data</td>
<td>Token B.</td>
</tr>
<tr>
<td>transaction_id</td>
<td>-------</td>
<td>data</td>
<td>The transaction ID of the commitment tranaction of this HTLC 1.</td>
</tr>
<tr>
<td>time_locker</td>
<td>-------</td>
<td>data</td>
<td>The time locker HTLC 1.</td>
</tr>
</tbody></table>
<h2 id='acceptswap'>acceptSwap</h2><h3 id='simple-type-100081-protocol'>Simple Type -100081 Protocol</h3>
<p>Type -81 Protocol accepts or rejects a swap.</p>
<h3 id='websocket-request-message-type-100081'>Websocket Request: Message Type -100081</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-100081</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id_from"</span><span class="p">:</span><span class="s2">"35b10b403eaf04ed9efc15d756105c4cd9c921f1d871411eda54d499409ec8e8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id_to"</span><span class="p">:</span><span class="s2">"2e90c8e98074c9d711ef33c9b8ae9ff4437640f032e60ecf5626a4ca9b432b02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="s2">"1f1dbb3518c1fb12f263d065c1d18576d13f88dff55bfc25ef52afaa2c97a5d2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_sent"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exchange_rate"</span><span class="p">:</span><span class="mf">1.2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_received"</span><span class="p">:</span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="s2">"f63385baf4607a59b87af4b85db7a6fc7ac3a785986e4ebd7fc008610335dfcc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"target_transaction_id"</span><span class="p">:</span><span class="s2">"238822cdb245dd8a392a5d0479b5488e38b21ce4192e77fa03f408796037d88e"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time_locker"</span><span class="p">:</span><span class="mi">11</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id_from</td>
<td>-------</td>
<td>data</td>
<td>the channel that creates the corresponding HTLC 2 to pay token B.</td>
</tr>
<tr>
<td>channel_id_to</td>
<td>-------</td>
<td>data</td>
<td>the channel where the HTLC 1 for swap(pay token A for token B) is created.</td>
</tr>
<tr>
<td>recipient_peer_id</td>
<td>-------</td>
<td>body</td>
<td>the onwer of token A.</td>
</tr>
<tr>
<td>property_sent</td>
<td>-------</td>
<td>data</td>
<td>Token B.</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>data</td>
<td>Amount of token B.</td>
</tr>
<tr>
<td>exchange_rate</td>
<td>-------</td>
<td>data</td>
<td>exchange rate, which is price(token A)/price(token B).</td>
</tr>
<tr>
<td>property_received</td>
<td>-------</td>
<td>data</td>
<td>Token A.</td>
</tr>
<tr>
<td>transaction_id</td>
<td>-------</td>
<td>data</td>
<td>The transaction ID of the commitment tranaction of this HTLC 2.</td>
</tr>
<tr>
<td>target_transaction_id</td>
<td>-------</td>
<td>data</td>
<td>The transaction ID of the commitment tranaction of this HTLC 1.</td>
</tr>
<tr>
<td>time_locker</td>
<td>-------</td>
<td>data</td>
<td>The time locker of HTLC 2.</td>
</tr>
</tbody></table>
<h3 id='websocket-response-message-type-110081'>Websocket Response: Message Type -110081</h3><!-- # Query

This section collects all the messages used in querying the latest status of the channel, as well as specific transactions and their status. Each party may use this tool set to surveil the behavior of his counterparty.  -->
<h1 id='query'>Query</h1><h2 id='getallcommitmenttransactions'>GetAllCommitmentTransactions</h2><h3 id='simple-type-35101-protocol'>Simple Type -35101 Protocol</h3>
<p>Type -35101 Protocol is used to get a list of commitment transactions in one channel. </p>
<h3 id='websocket-request-message-type-35101'>Websocket Request: Message Type -35101</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response'>Websocket Response:</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:[{</span><span class="w">
        </span><span class="s2">"amount_b"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount_m"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">],</span><span class="w">
        </span><span class="s2">"create_at"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.262628+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_by"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_hash"</span><span class="p">:</span><span class="s2">"8a55f150c34e2720a587dde3809e81959701e1dd3f78c1e1fc9960c132566fe0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_amount"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_txid"</span><span class="p">:</span><span class="s2">"c734f981de217a95764e565ffeb6464507fda588118754df3d4ec5cbe487fd3b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_vout"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_commitment_tx_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_edit_time"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.262628+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_hash"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"multi_address"</span><span class="p">:</span><span class="s2">"2N3zxWFsT2nocWPiM7Qpc8rngQDv7PEX6yz"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"owner"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_a"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_b"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"redeem_script"</span><span class="p">:</span><span class="s2">"522103ea01f8b137df5744ec2b0b91bc46139cabf228403264df65f6233bd7f0cbd17d2103efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce952ae"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script_pub_key"</span><span class="p">:</span><span class="s2">"a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac87"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"send_at"</span><span class="p">:</span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sign_at"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.704956+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03ea01f8b137df5744ec2b0b91bc46139cabf228403264df65f6233bd7f0cbd17d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_sign_hex_to_other"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_sign_hex_to_temp_multi_address"</span><span class="p">:</span><span class="s2">"0200000001685a7e84bc2d24fa01550674176a6b4bf366a99e001b5b52f2fc16c8b6146b2600000000d900473044022008df14db1d40c4c53dbf87903ed3604e6075a80d96c8efbdc0899218c813d1df02203dde10f2139286ba4a533ea28f3b25c1394a359e1bf7db0a8b4245981a2aab3b014730440220194ed787685360c7c3b1dc67328db680e8e8d9e201753550c585efcf355beee1022023bf97e53ae59110f0c5f4160a2df723747ba61d65db5d6af7cc93ba70cc5ace01475221021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d2103efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce952aeffffffff033c1900000000000017a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac870000000000000000166a146f6d6e6900000000000000790000000023c346001c0200000000000017a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac8700000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"txid_to_other"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"txid_to_temp_multi_address"</span><span class="p">:</span><span class="s2">"8656156b4e70670745f0f9e46b64a84c7366bbad3182ebf135b6a5b60f10b1f1"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>amount_m</td>
<td>-------</td>
<td>result</td>
<td>total tokens in this channel</td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_by</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>curr_hash</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>curr_state</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_amount</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_txid</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_vout</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_commitment_tx_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_edit_time</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_hash</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>owner</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>peer_id_a</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>peer_id_b</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>redeem_script</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>script_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>send_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>sign_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>temp_address_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>transaction_sign_hex_to_other</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>transaction_sign_hex_to_temp_multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>txid_to_other</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>txid_to_temp_multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getlatestcommitmenttransaction'>GetLatestCommitmentTransaction</h2><h3 id='simple-type-35104-protocol'>Simple Type -35104 Protocol</h3>
<p>Type -35104 Protocol is used to get a latest commitment transaction.</p>
<h3 id='websocket-request-message-type-35104'>Websocket Request: Message Type -35104</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35104</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h3 id='websocket-response-2'>Websocket Response:</h3>
<blockquote>
<p>OBD Responses：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35104</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"amount_b"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount_m"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">],</span><span class="w">
        </span><span class="s2">"create_at"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.262628+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_by"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_hash"</span><span class="p">:</span><span class="s2">"8a55f150c34e2720a587dde3809e81959701e1dd3f78c1e1fc9960c132566fe0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_amount"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_txid"</span><span class="p">:</span><span class="s2">"c734f981de217a95764e565ffeb6464507fda588118754df3d4ec5cbe487fd3b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"input_vout"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_commitment_tx_id"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_edit_time"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.262628+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_hash"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"multi_address"</span><span class="p">:</span><span class="s2">"2N3zxWFsT2nocWPiM7Qpc8rngQDv7PEX6yz"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"owner"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_a"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"peer_id_b"</span><span class="p">:</span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"property_id"</span><span class="p">:</span><span class="mi">121</span><span class="p">,</span><span class="w">
        </span><span class="s2">"redeem_script"</span><span class="p">:</span><span class="s2">"522103ea01f8b137df5744ec2b0b91bc46139cabf228403264df65f6233bd7f0cbd17d2103efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce952ae"</span><span class="p">,</span><span class="s2">"script_pub_key"</span><span class="p">:</span><span class="s2">"a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac87"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"send_at"</span><span class="p">:</span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sign_at"</span><span class="p">:</span><span class="s2">"2019-09-21T01:01:54.704956+08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"temp_address_pub_key"</span><span class="p">:</span><span class="s2">"03ea01f8b137df5744ec2b0b91bc46139cabf228403264df65f6233bd7f0cbd17d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_sign_hex_to_other"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_sign_hex_to_temp_multi_address"</span><span class="p">:</span><span class="s2">"0200000001685a7e84bc2d24fa01550674176a6b4bf366a99e001b5b52f2fc16c8b6146b2600000000d900473044022008df14db1d40c4c53dbf87903ed3604e6075a80d96c8efbdc0899218c813d1df02203dde10f2139286ba4a533ea28f3b25c1394a359e1bf7db0a8b4245981a2aab3b014730440220194ed787685360c7c3b1dc67328db680e8e8d9e201753550c585efcf355beee1022023bf97e53ae59110f0c5f4160a2df723747ba61d65db5d6af7cc93ba70cc5ace01475221021d475729c52f86df24b36aa231945bd090f9c23ccbfb91e4ade6813b2419d32d2103efd8923f1829ece87202892d31cd75c20b7a7b5adf888f7ba04fa2c1bc931ce952aeffffffff033c1900000000000017a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac870000000000000000166a146f6d6e6900000000000000790000000023c346001c0200000000000017a91475f6a2aa9461985bed4b847104ca81b73cf2f1ac8700000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"txid_to_other"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"txid_to_temp_multi_address"</span><span class="p">:</span><span class="s2">"8656156b4e70670745f0f9e46b64a84c7366bbad3182ebf135b6a5b60f10b1f1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>peer id of funder</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>peer id of fundee</td>
</tr>
<tr>
<td>amount_b</td>
<td>-------</td>
<td>result</td>
<td>none required</td>
</tr>
<tr>
<td>amount_m</td>
<td>-------</td>
<td>result</td>
<td>how much has been funded</td>
</tr>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_by</td>
<td>-------</td>
<td>result</td>
<td>created by the funder</td>
</tr>
<tr>
<td>curr_hash</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>curr_state</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_amount</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_txid</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>input_vout</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_commitment_tx_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_edit_time</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>last_hash</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>owner</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>peer_id_a</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>peer_id_b</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>redeem_script</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>script_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>send_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>sign_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>temp_address_pub_key</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>transaction_sign_hex_to_other</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>transaction_sign_hex_to_temp_multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>txid_to_other</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>txid_to_temp_multi_address</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getlatestrevockabledeliverytransaction'>GetLatestRevockableDeliveryTransaction</h2><h3 id='simple-type-35105-protocol'>Simple Type -35105 Protocol</h3>
<p>Type -35105 Protocol is used to get a latest Revockable Delivery transaction.</p>
<h3 id='websocket-request-message-type-35105'>Websocket Request: Message Type -35105</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35105</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getlatestbreachremedytransaction'>GetLatestBreachRemedyTransaction</h2><h3 id='simple-type-35106-protocol'>Simple Type -35106 Protocol</h3>
<p>Type -35106 Protocol is used to get a latest Breach Remedy transaction.</p>
<h3 id='websocket-request-message-type-35106'>Websocket Request: Message Type -35106</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35106</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getallrevockabledeliverytransactions'>GetAllRevockableDeliveryTransactions</h2><h3 id='simple-type-35108-protocol'>Simple Type -35108 Protocol</h3>
<p>Type -35108 Protocol is used to get all of Revockable Delivery transactions.</p>
<h3 id='websocket-request-message-type-35108'>Websocket Request: Message Type -35108</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35108</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getallbreachremedytransactions'>GetAllBreachRemedyTransactions</h2><h3 id='simple-type-35109-protocol'>Simple Type -35109 Protocol</h3>
<p>Type -35109 Protocol is used to get all of Breach Remedy transactions.</p>
<h3 id='websocket-request-message-type-35109'>Websocket Request: Message Type -35109</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35109</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getallchannels'>GetAllChannels</h2><h3 id='simple-type-3202-protocol'>Simple Type -3202 Protocol</h3>
<p>Type -3202 Protocol is used to get all of channels.</p>
<h3 id='websocket-request-message-type-3202'>Websocket Request: Message Type -3202</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-3202</span><span class="p">,</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This message has no arguments.</p>
<h2 id='getchanneldetail'>GetChannelDetail</h2><h3 id='simple-type-3207-protocol'>Simple Type -3207 Protocol</h3>
<p>Type -3207 Protocol is used to get detail data of a channel.</p>
<h3 id='websocket-request-message-type-3207'>Websocket Request: Message Type -3207</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-3207</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;id&gt;</span><span class="p">,</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>-------</td>
<td>data</td>
<td>id of channel in database table</td>
</tr>
</tbody></table>
<h2 id='getallbroadcastedcommitmenttransactions'>GetAllBroadcastedCommitmentTransactions</h2><h3 id='simple-type-35110-protocol'>Simple Type -35110 Protocol</h3>
<p>Type -35110 Protocol is used to get all of Broadcasted Commitment Transactions.</p>
<h3 id='websocket-request-message-type-35110'>Websocket Request: Message Type -35110</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-35110</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">59</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">197</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='geth'>GetH</h2><h3 id='simple-type-4001-protocol'>Simple Type -4001 Protocol</h3>
<p>Type -4001 Protocol is used to get a list of H (Hash_Preimage_R).</p>

<p><em>Only HTLC creator can query</em></p>
<h3 id='websocket-request-message-type-4001'>Websocket Request: Message Type -4001</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-4001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This message has no arguments.</p>
<h2 id='getr'>GetR</h2><h3 id='simple-type-4101-protocol'>Simple Type -4101 Protocol</h3>
<p>Type -4101 Protocol is used to get a list of R (Preimage_R).</p>

<p><em>Only HTLC Receiever can query</em></p>
<h3 id='websocket-request-message-type-4101'>Websocket Request: Message Type -4101</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-4101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This message has no arguments.</p>
<h3 id='websocket-response-3'>Websocket Response:</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-4101</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"create_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-04T15:02:25.2004375+08:00"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"create_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83519233492eb05ddd547757f2c3d151ad9392b2ebf48fc1a88e07e61dd82a45"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"property_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2de142c8006a3462241e96a610b59f3d92d8259c"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742db9677d53316b8faef7c9f40766e4f39dd6b82487c103960e9170de8ce636"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sender_peer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sign_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-04T15:08:31.5417759+08:00"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sign_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"create_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-06T08:02:50.8302374+08:00"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"create_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"curr_state"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e7626f2b7207006d6515399c587c09c3bfb5ed3b12f63c12b0d40e634f9dd9a3"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"property_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"r"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2de142c8006a3462241e96a610b59f3d92d8259c"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"recipient_peer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"request_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fe82bc9152741670c4ee2b4853df9346c1cc63fce6d1c896e7eeca8cc62c9d9"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sender_peer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sign_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-06T08:03:41.3545586+08:00"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sign_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>amount</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>create_by</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>curr_state</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>h</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>property_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>recipient_peer_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>request_hash</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>sender_peer_id</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>sign_at</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
<tr>
<td>sign_by</td>
<td>-------</td>
<td>result</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getrwithchannelid'>GetRWithChannelID</h2><h3 id='simple-type-4103-protocol'>Simple Type -4103 Protocol</h3>
<p>Type -4103 Protocol is used to get the R (Preimage_R) by a channel id.</p>

<p><em>Only middleman node can query</em></p>
<h3 id='websocket-request-message-type-4103'>Websocket Request: Message Type -4103</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-4103</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"channel_id"</span><span class="p">:[</span><span class="mi">223</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">51</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel_id</td>
<td>-------</td>
<td>data</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getroutingwithh'>GetRoutingWithH</h2><h3 id='simple-type-4104-protocol'>Simple Type -4104 Protocol</h3>
<p>Type -4104 Protocol is used to get routing info by the H (Hash_Preimage_R).</p>
<h3 id='websocket-request-message-type-4104'>Websocket Request: Message Type -4104</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-4104</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="s2">"77aba5c815ad8143da057a3fcc6c1132368110302431987c5d6f260253956f3b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>-------</td>
<td>data</td>
<td>the H (Hash_Preimage_R)</td>
</tr>
</tbody></table>
<h2 id='getrwithh'>GetRWithH</h2><h3 id='simple-type-4105-protocol'>Simple Type -4105 Protocol</h3>
<p>Type -4105 Protocol is used to get the R (Preimage_R) by a H (Hash_Preimage_R).</p>

<p><em>HTLC Receiever can query</em></p>
<h3 id='websocket-request-message-type-4105'>Websocket Request: Message Type -4105</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="mi">-4105</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="s2">"e7626f2b7207006d6515399c587c09c3bfb5ed3b12f63c12b0d40e634f9dd9a3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>H</td>
<td>-------</td>
<td>data</td>
<td>Hash_Preimage_R</td>
</tr>
</tbody></table>
<h3 id='websocket-response-4'>Websocket Response:</h3>
<blockquote>
<p>OBD Responses:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">-4105</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;user_id&gt;"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\"</span><span class="s2">2de142c8006a3462241e96a610b59f3d92d8259c</span><span class="se">\"</span><span class="s2">"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>default</th>
<th>placement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>-------</td>
<td>body</td>
<td>true or false</td>
</tr>
<tr>
<td>from</td>
<td>-------</td>
<td>body</td>
<td>sender</td>
</tr>
<tr>
<td>to</td>
<td>-------</td>
<td>body</td>
<td>receiever</td>
</tr>
<tr>
<td>r</td>
<td>-------</td>
<td>result</td>
<td>the R (Preimage_R)</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="golang">golang</a>
          </div>
      </div>
    </div>
  </body>
</html>
